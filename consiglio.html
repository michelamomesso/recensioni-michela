<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Recensioni</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      margin: 0;
      padding: 0;
      background: white;
      font-family: sans-serif;
      overflow: hidden;
    }

    .outer {
      position: relative;
      width: 100%;
      max-width: 800px;
      margin: 0 auto;
      padding: 2em 1em;
      box-sizing: border-box;
      display: flex;
      justify-content: center;
    }

    .inner-container {
      position: relative;
      flex: 1;
      padding: 2em 2.5em;
      box-sizing: border-box;
      background: #fff;
      border-radius: 5px;
      min-height: 260px;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .item {
      position: relative;
      opacity: 0;
      transition: opacity 1s ease-in-out;
      box-sizing: border-box;
      padding: 1em;
      font-size: 18px;
      line-height: 1.5;
      overflow: auto;
      display: none;
      flex-direction: column;
      gap: 0.5em;
      max-height: 100%;
    }

    .item.visible {
      display: flex;
      opacity: 1;
    }

    .item em {
      color: #db7812;
      font-style: italic;
    }

    .dots {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 6px;
    }

    .dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: #ccc;
      cursor: pointer;
      transition: background 0.3s;
    }

    .dot.active {
      background: #007179;
    }

    @media (max-width: 600px) {
      .outer {
        padding: 1.5em 0.5em;
      }
      .item {
        font-size: 16px;
      }
    }
  </style>
</head>
<body>
  <div class="outer" aria-label="Slider recensioni">
    <div class="inner-container" id="recensioni">
      
  <div class="item">
    <div class="content">
      <p>Sei nel posto giusto!</p>
      <p><em>— Anonimo</em></p>
    </div>
  </div>
  
  <div class="item">
    <div class="content">
      <p>Lei cerca di non provocare dolore.</p>
      <p><em>— R. M.</em></p>
    </div>
  </div>
  
  <div class="item">
    <div class="content">
      <p>Per chi è indeciso di scegliere un percorso con Michela, direi di scegliere lei per la competenza che possiede non solo nelle conoscenze tecniche ma anche nella relazione con il paziente. Non desidera avere clientela affiliata, ma si capisce che il suo obiettivo è darti gli strumenti per stare meglio in autonomia.</p>
      <p><em>— Thea</em></p>
    </div>
  </div>
  
  <div class="item">
    <div class="content">
      <p>Potrei assolutamente consigliarti</p>
      <p><em>— Gerardi Luca</em></p>
    </div>
  </div>
  
  <div class="item">
    <div class="content">
      <p>Michela è accogliente e molto preparata per dare un ottimo supporto al percorso post-parto. Consiglierò vivamente alle neomamme.</p>
      <p><em>— Livia O.</em></p>
    </div>
  </div>
  
  <div class="item">
    <div class="content">
      <p>Di andare in fiducia che poi starà meglio.</p>
      <p><em>— Pamela C.</em></p>
    </div>
  </div>
  

      <div class="dots" aria-label="Indicatore recensioni">
        <div class="dot" data-index="0" role="button" aria-label="Vai alla recensione 1" tabindex="0"></div><div class="dot" data-index="1" role="button" aria-label="Vai alla recensione 2" tabindex="0"></div><div class="dot" data-index="2" role="button" aria-label="Vai alla recensione 3" tabindex="0"></div><div class="dot" data-index="3" role="button" aria-label="Vai alla recensione 4" tabindex="0"></div><div class="dot" data-index="4" role="button" aria-label="Vai alla recensione 5" tabindex="0"></div><div class="dot" data-index="5" role="button" aria-label="Vai alla recensione 6" tabindex="0"></div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const items = Array.from(document.querySelectorAll(".item"));
      const dots = Array.from(document.querySelectorAll(".dot"));
      const container = document.querySelector(".outer");

      if (items.length === 0) return;

      let current = 0;
      let intervalId = null;
      const DISPLAY_TIME = 6000;

      // Mostra recensione corrente e aggiorna puntini
      const showItem = (index) => {
        items.forEach((it, i) => {
          if (i === index) {
            it.classList.add("visible");
          } else {
            it.classList.remove("visible");
          }
        });
        dots.forEach((d, i) => {
          d.classList.toggle("active", i === index);
        });
        current = index;
      };

      const startCycle = () => {
        stopCycle();
        intervalId = setInterval(() => {
          const nextIndex = (current + 1) % items.length;
          showItem(nextIndex);
        }, DISPLAY_TIME);
      };

      const stopCycle = () => {
        if (intervalId) {
          clearInterval(intervalId);
          intervalId = null;
        }
      };

      // Inizializza e avvia
      showItem(0);
      startCycle();

      // Pausa su hover (desktop)
      container.addEventListener("mouseenter", () => {
        stopCycle();
      });
      container.addEventListener("mouseleave", () => {
        startCycle();
      });

      // Touch: pausa durante il tocco e riprende dopo
      container.addEventListener("touchstart", () => {
        stopCycle();
      });
      container.addEventListener("touchend", () => {
        startCycle();
      });

      // Puntini (click + tastiera)
      dots.forEach(dot => {
        const idx = parseInt(dot.getAttribute("data-index"), 10);
        dot.addEventListener("click", () => {
          showItem(idx);
          startCycle();
        });
        dot.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            showItem(idx);
            startCycle();
          }
        });
      });

      // Navigazione da tastiera globale
      document.addEventListener("keydown", (e) => {
        if (e.key === "ArrowRight") {
          const nextIndex = (current + 1) % items.length;
          showItem(nextIndex);
          startCycle();
        } else if (e.key === "ArrowLeft") {
          const prevIndex = (current - 1 + items.length) % items.length;
          showItem(prevIndex);
          startCycle();
        }
      });
    });
  </script>
</body>
</html>