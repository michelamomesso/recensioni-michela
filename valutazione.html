<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Recensioni</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      margin: 0;
      padding: 0;
      background: white;
      font-family: sans-serif;
      overflow: hidden;
    }

    .outer-container {
      position: relative;
      width: 100%;
      max-width: 800px;
      margin: 0 auto;
      padding: 2em 1em; /* spazio esterno in modo che freccette restino fuori dal box interno */
      box-sizing: border-box;
    }

    .inner-wrapper {
      position: relative;
      padding: 2em 3em; /* riquadro interno spostato dentro rispetto alle freccette */
      box-sizing: border-box;
      background: #fff;
      border-radius: 5px;
      min-height: 220px;
      overflow: hidden;
    }

    .item {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      opacity: 0;
      transition: opacity 1s ease-in-out;
      box-sizing: border-box;
      padding: 1em;
      font-size: 18px;
      line-height: 1.5;
    }

    .item.visible {
      opacity: 1;
    }

    .item p {
      margin: 0 0 0.5em 0;
      font-weight: normal;
    }

    .item em {
      color: #db7812;
      font-style: italic;
    }

    .dots {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 6px;
    }

    .dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: #ccc;
      cursor: pointer;
      transition: background 0.3s;
    }

    .dot.active {
      background: #007179;
    }

    .nav-arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255,255,255,0.95);
      border: none;
      padding: 0.5em 1em;
      font-size: 1.2em;
      cursor: pointer;
      border-radius: 4px;
      user-select: none;
      color: #db7812;
      font-weight: bold;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .nav-arrow:focus {
      outline: 2px solid #007179;
    }

    .prev {
      left: -5px; /* fuori leggermente rispetto al contenuto */
    }

    .next {
      right: -5px;
    }

    @media (max-width: 600px) {
      .outer-container {
        padding: 1.5em 0.5em;
      }
      .inner-wrapper {
        padding: 1.5em 2em;
      }
      .item {
        font-size: 16px;
      }
      .nav-arrow {
        font-size: 1em;
        padding: 0.4em 0.8em;
      }
    }
  </style>
</head>
<body>
  <div class="outer-container" aria-label="Slider recensioni">
    <div class="inner-wrapper" id="recensioni">
      
  <div class="item">
    <p>Completo e trasformativo</p>
    <p><em>— Thea</em></p>
  </div>

  <div class="item">
    <p>Persona molto molto preparata,ha rimesso letteralmente in piedi mio papà di 84 anni,</p>
    <p><em>— Gerardi Luca</em></p>
  </div>

  <div class="item">
    <p>Michela è molto gentile e bravissima nel suo lavoro. Già dopo la prima seduta mi sentivo meglio, mi ha dato degli esercizi da fare a casa che hanno fatto effetto subito. Nel giro di poche settimane ho riattivato e riequilibrato i muscoli del core, acquisendo così stabilità e forza per affrontare la vita quotidiana con due bimbi piccoli.</p>
    <p><em>— Livia O.</em></p>
  </div>

  <div class="item">
    <p>Professionista molto competente, capace e positiva.</p>
    <p><em>— Pamela C.</em></p>
  </div>


      <!-- Indicatore puntini -->
      <div class="dots" aria-label="Indicatore recensioni">
        <div class="dot" data-index="0" role="button" aria-label="Vai alla recensione 1" tabindex="0"></div><div class="dot" data-index="1" role="button" aria-label="Vai alla recensione 2" tabindex="0"></div><div class="dot" data-index="2" role="button" aria-label="Vai alla recensione 3" tabindex="0"></div><div class="dot" data-index="3" role="button" aria-label="Vai alla recensione 4" tabindex="0"></div>
      </div>
    </div>

    <!-- Freccette per navigazione manuale (posizionate esternamente al box interno) -->
    <button class="nav-arrow prev" aria-label="Recensione precedente" type="button">&larr;</button>
    <button class="nav-arrow next" aria-label="Recensione successiva" type="button">&rarr;</button>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // Seleziono elementi recensione, puntini e freccette
      const items = Array.from(document.querySelectorAll(".item"));
      const dots = Array.from(document.querySelectorAll(".dot"));
      const prevBtn = document.querySelector(".prev");
      const nextBtn = document.querySelector(".next");
      const container = document.querySelector(".outer-container");

      if (items.length === 0) return;

      let current = 0;
      let intervalId = null;
      const DISPLAY_TIME = 6000;

      // Mostra la recensione corrente e aggiorna indicatori
      const showItem = (index) => {
        items.forEach((it, i) => {
          it.classList.toggle("visible", i === index);
        });
        dots.forEach((d, i) => {
          d.classList.toggle("active", i === index);
        });
        current = index;
      };

      // Avvia ciclo automatico
      const startCycle = () => {
        stopCycle();
        intervalId = setInterval(() => {
          const nextIndex = (current + 1) % items.length;
          showItem(nextIndex);
        }, DISPLAY_TIME);
      };

      // Ferma ciclo automatico
      const stopCycle = () => {
        if (intervalId) {
          clearInterval(intervalId);
          intervalId = null;
        }
      };

      // Inizializza con prima recensione e parte il ciclo
      showItem(0);
      startCycle();

      // Pausa se l'utente passa sopra
      container.addEventListener("mouseenter", () => {
        stopCycle();
      });
      container.addEventListener("mouseleave", () => {
        startCycle();
      });

      // Freccette
      prevBtn.addEventListener("click", () => {
        const prevIndex = (current - 1 + items.length) % items.length;
        showItem(prevIndex);
        startCycle();
      });
      nextBtn.addEventListener("click", () => {
        const nextIndex = (current + 1) % items.length;
        showItem(nextIndex);
        startCycle();
      });

      // Puntini interattivi
      dots.forEach(dot => {
        const idx = parseInt(dot.getAttribute("data-index"), 10);
        dot.addEventListener("click", () => {
          showItem(idx);
          startCycle();
        });
        dot.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            showItem(idx);
            startCycle();
          }
        });
      });

      // Tastiera globale: navigazione con frecce
      document.addEventListener("keydown", (e) => {
        if (e.key === "ArrowRight") {
          const nextIndex = (current + 1) % items.length;
          showItem(nextIndex);
          startCycle();
        } else if (e.key === "ArrowLeft") {
          const prevIndex = (current - 1 + items.length) % items.length;
          showItem(prevIndex);
          startCycle();
        }
      });
    });
  </script>
</body>
</html>